# 2026년 2월 9일

## 작업 요약

오늘 대화의 주된 내용은 어제 구성한 Kubernetes 환경의 문제를 해결하고, 설정을 더욱 개선하며, 다양한 접속 방식을 구현하는 것이었습니다.

### 1. DB 연결 오류(`Connection Refused`) 최종 해결
- **문제 진단**: `DB_HOST` 환경 변수가 `ConfigMap`에는 정의되었지만, `Deployment`가 이 값을 읽어 컨테이너에 주입하지 않는 설정 오류를 발견했습니다.
- **해결**: `k8s/base/deployment.yaml` 파일을 수정하여 `DB_HOST` 환경 변수도 `ConfigMap`에서 정상적으로 주입되도록 수정했고, 이로써 DB 연결 문제가 완전히 해결되었습니다.

### 2. `LoadBalancer` 서비스 접속 문제 해결
- **문제 진단**: Docker Desktop 환경에서 `LoadBalancer` 타입 서비스의 `EXTERNAL-IP`가 할당되지 않고 `<pending>` 상태에 머무는 현상을 확인했습니다.
- **해결**: 이는 Docker Desktop Kubernetes의 일시적인 버그일 가능성이 높다고 판단, Kubernetes 클러스터를 재시작하는 방법을 안내해 드렸고, 이를 통해 문제가 해결되었습니다.

### 3. Port-Forward 접속 방식 스크립트화
- **요구사항**: `LoadBalancer` 외에 `port-forward`를 사용한 접속 방식을 스크립트로 관리하고 싶다는 요청이 있었습니다.
- **구현**: 터미널을 차지하지 않도록 백그라운드에서 포트 포워딩을 실행하는 `start-access.sh`와, 해당 프로세스를 안전하게 종료하는 `stop-access.sh` 스크립트 한 쌍을 `scripts/` 폴더에 추가했습니다.

### 4. Kubernetes 고급 네트워킹 개념 논의
- `LoadBalancer` 서비스가 L4 레벨에서 동작하는 방식에 대해 확인했습니다.
- `Ingress`보다 `Gateway API`가 최신 Kubernetes 환경에서 권장되는 차세대 표준임을 함께 논의하고 확인했습니다.

### 5. 세미나 및 작업 로그 문서화
- 오늘까지 진행한 Kustomize 도입 및 고급 설정 내용을 `seminar/05.Kustomize를_이용한_다중_환경_관리.md` 파일로 정리했습니다.
- 이 대화 내용을 `doc` 폴더에 기록했습니다.
